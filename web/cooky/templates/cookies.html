<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Clicker</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc;
        }
        .cookie-button {
            transition: transform 0.1s ease-in-out;
            user-select: none;
            cursor: pointer;
        }
        .cookie-button:active {
            transform: scale(0.95);
        }
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
        }
    </style>
</head>
<body class="bg-gray-800 text-gray-100 flex items-center justify-center min-h-screen p-4">

    <div class="relative bg-gray-900 rounded-3xl shadow-2xl p-6 sm:p-10 w-full max-w-lg mx-auto flex flex-col items-center space-y-8">
        <h1 class="text-5xl sm:text-6xl font-extrabold text-white text-center drop-shadow-lg">
            Cookie Clicker<br>
        </h1>
      <h7>
Target: 6942069420 cookies
      </h7>
        
        <div class="flex flex-col items-center">
            <div class="text-4xl sm:text-5xl font-bold text-yellow-400 drop-shadow-md" id="s">0</div>
          <p class="text-lg sm:text-xl text-gray-400">cookies</p>
        </div>

        <button class="cookie-button focus:outline-none" id="r">
          <svg class="w-48 h-48 sm:w-64 sm:h-64 drop-shadow-xl" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19Z" fill="#D2B48C"/>
                <circle cx="8" cy="8" r="1" fill="#654321"/>
                <circle cx="16" cy="7" r="1.2" fill="#654321"/>
                <circle cx="10" cy="14" r="1.1" fill="#654321"/>
                <circle cx="16" cy="16" r="1" fill="#654321"/>
                <circle cx="7" cy="17" r="1.3" fill="#654321"/>
            </svg>
        </button>

        <div class="flex flex-col items-center w-full">
            <p class="text-sm text-gray-400">
                Cookies per second: <span id="t" class="font-bold text-white">0</span>
            </p>
        </div>

        <div class="w-full grid grid-cols-1 sm:grid-cols-2 gap-4">
            <button id="w" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-colors duration-200 shadow-md transform hover:scale-105 focus:outline-none">
                <span class="text-lg">Buy Cursor</span><br>
                <span class="text-xs text-gray-300">(Cost: 10 cookies, +1 CPS)</span>
            </button>
            <button id="x" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-xl transition-colors duration-200 shadow-md transform hover:scale-105 focus:outline-none">
                <span class="text-lg">Buy Grandma</span><br>
                <span class="text-xs text-gray-300">(Cost: 100 cookies, +5 CPS)</span>
            </button>
        </div>
    </div>
    
    <!-- Message Box -->
    <div id="u" class="message-box hidden bg-gray-700 text-white py-3 px-6 rounded-lg shadow-xl text-center">
        <p id="v" class="font-bold"></p>
    </div>

    <script>
    b = s=>{let x='';for(let a in s){x+=String.fromCharCode(s.codePointAt(a)^69)}return x};
    a=document,[r,s,t,u,v,w,x] = ([...'rstuvwx']).map(x => a["getElementById"](x));

        (() => {

          let c = (()=>{let x=a.cookie.split('=');return(x.length >= 2)?Number((x[0]==b("&**., 6"))?x[1]:'0'):0})();
        let d = 0;
        let e = 10;
        let f = 100;

        function A() {
            s.textContent = Math.floor(c);t.textContent = d;w.disabled = c < e;x.disabled = c < f;
            if(w.disabled){w.classList.remove('bg-blue-600', 'hover:bg-blue-700');w.classList.add('bg-gray-600', 'cursor-not-allowed');} else {
                w.classList.remove('bg-gray-600', 'cursor-not-allowed');
                w.classList.add('bg-blue-600', 'hover:bg-blue-700');
            }
            if (x.disabled) {
                x.classList.remove('bg-purple-600', 'hover:bg-purple-700');
                x.classList.add('bg-gray-600', 'cursor-not-allowed');
            } else {
                x.classList.remove('bg-gray-600', 'cursor-not-allowed');
                x.classList.add('bg-purple-600', 'hover:bg-purple-700');
            }
        }

        function showMessage(text) {
            v.textContent = text;
            u.classList.remove('hidden');
            setTimeout(() => {
                u.classList.add('hidden');
            }, 2000);
        }

        r.addEventListener('click', () => {
            c += 1;
            A();
        });

        w.addEventListener('click', () => {
            if (c >= e) {
                c -= e;
                d += 1;
                e = Math.floor(e * 1.5);
                w.querySelector('span:last-child').textContent = `(Cost: ${e} cookies, +1 CPS)`;
                showMessage("Cursor purchased!");
            } else {
                showMessage("Not enough cookies!");
            }
            A();
        });

        x.addEventListener('click', () => {
            if (c >= f) {
                c -= f;
                d += 5;
                f = Math.floor(f * 1.5);
                x.querySelector('span:last-child').textContent = `(Cost: ${f} cookies, +5 CPS)`;
                showMessage("Grandma purchased!");
            } else {
                showMessage("Not enough cookies!");
            }
            A();
        });

        setInterval(() => {
            c += d;
            a.cookie = `cookies=${c}`
            A();
        }, 1000);

        setInterval(() => {
            fetch('/log', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                },
            })
            .then(l => {
                if (l.ok) {
                  l.json().then(
                    x => console.log('Successfully logged cookies to server.', x[b('( 66$" ')])                
                  )
                } else {
                    console.error('Failed to log cookies:', l.statusText);
                }
            })
            .catch(error => {
                console.error('Error logging cookies:', error);
            });
        }, 1000);

        A();
        })()
    </script>
</body>
</html>

